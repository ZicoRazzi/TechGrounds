<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Challenge_8</title>
    <link rel="stylesheet" href="challenge_7.css" />
  </head>
  <body>
    <div class="container">
      <form class="contact_form">
        <label for="name">Naam:</label>
        <input data-info="naam" type="text" name="name" />

        <label for="telefoon">Telefoon</label
        ><input data-info="telefoon" type="text" name="telefoon" />

        <label for="straat_naam">Straat naam</label
        ><input
          data-info="straatnaam"
          type="text"
          name="straat_naam"
          required
        />

        <label for="huisnummer">Huisnummer</label
        ><input data-info="huisnummer" type="text" name="huisnummer" />

        <label for="postcode">Postcode</label
        ><input data-info="postcode" type="text" name="postcode" />

        <label for="stad">Stad</label
        ><input data-info="stad" type="text" name="stad" />

        <label for="email">Email</label
        ><input data-info="email" type="text" name="email" />

        <button type="submit">Verzend</button>
      </form>
      <div class="contact_card">
        <div class="card_info">
          <p>Naam:</p>
          <p class="card_naam_input"></p>
        </div>
        <div class="card_info">
          <p>Telefoonnummer:</p>
          <p class="card_telefoonnummer_input"></p>
        </div>
        <div class="card_info">
          <p>Adres:</p>
          <p class="card_adres_input"></p>
        </div>
        <div class="card_info">
          <p>Email:</p>
          <p class="card_email_input"></p>
        </div>
        <div class="card_info">
          <p>UserID:</p>
          <p class="card_user_input"></p>
        </div>
      </div>
    </div>

    <script>
      const contactInfo = {
        naam: '',
        telefoon: '',
        adres: '',
        email: '',
        userID: '',
      };
      const button = document.querySelector('button');

      const inputs = document.querySelectorAll('input');
      console.log(inputs);
      const arrayOfInputs = [...inputs]; //verandert noodlist in array
      arrayOfInputs.forEach((input) => {
        input.addEventListener('change', (evt) => {
          const inputType = evt.target.dataset.info;
          switch (inputType) {
            case 'naam': {
              contactInfo.naam = evt.target.value;
              contactInfo.userID = evt.target.value + '13';
              break;
            }
            case 'telefoon': {
              contactInfo.telefoon = evt.target.value;
              break;
            }
            case 'straatnaam': {
              contactInfo.adres = evt.target.value;
              break;
            }
            case 'huisnummer': {
              contactInfo.adres += ` ${evt.target.value}`;
              break;
            }

            case 'stad': {
              contactInfo.adres += ` ${evt.target.value}`;
              break;
            }
            case 'postcode': {
              console.log('postcode inside case', evt.target.value);
              contactInfo.adres += ` ${evt.target.value}`;

              break;
            }
            case 'email': {
              contactInfo.email = evt.target.value;
              break;
            }
          }
        });
      });

      const naamDisplay = document.querySelector('.card_naam_input');
      const telefoonDisplay = document.querySelector(
        '.card_telefoonnummer_input'
      );
      const adresDisplay = document.querySelector('.card_adres_input');
      const emailDisplay = document.querySelector('.card_email_input');
      const userDisplay = document.querySelector('.card_user_input');

      button.addEventListener('click', () => {
        naamDisplay.textContent = contactInfo.naam;
        telefoonDisplay.textContent = contactInfo.telefoon;
        adresDisplay.textContent = contactInfo.adres;
        const email = contactInfo.email;

        const eenZin = 'Hallo ik ben Roibin';
        const splitZin = eenZin.split(' ');
        console.log(splitZin);
        splitZin[1] = 'heet';
        console.log(splitZin);
        const nieuweZin = splitZin.join(' ');

        const splitEmail = email.split('@')[1].toLowerCase().split('.')[0];
        if (splitEmail !== 'techgrounds') {
          alert(
            `${splitEmail} is not a valid emailaddress. Please, use @techgrounds.com`
          );
          console.log(splitEmail);
        }
        emailDisplay.textContent = contactInfo.email;
        userDisplay.textContent = contactInfo.userID;

        inputs.forEach((input) => {
          input.value = '';
        });
      });
    </script>
  </body>
</html>
